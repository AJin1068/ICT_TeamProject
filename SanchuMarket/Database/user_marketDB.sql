/*
--실수 했을때 테이블 드랍용
drop table user_market

--회원 테이블 생성, user는 예약어라 사용불가. user_market으로 대체

create table user_market
(
	u_idx		int,					 -- 회원번호(pk)
	u_id		varchar2(100)  not null, -- 아이디
	u_pwd		varchar2(100)  not null, -- 비밀번호
	u_name		varchar2(100)  not null, -- 이름
	u_nickname	varchar2(100)  not null, -- 닉네임
	u_birth		varchar2(100)  not null, -- 생년월일
	u_addr		varchar2(2000) not null, -- 회원주소
	u_regdate	date		   not null, -- 가입일자
	u_like		int,					 -- 평점
	u_profile	varchar2(2000),			 -- 자기소개
	u_photo		varchar2(2000),			 -- 회원사진
	u_tel		varchar2(100)  not null, -- 전화번호
	u_mail		varchar2(100)  not null, -- 이메일
	u_grade		varchar2(100)  default '일반회원' -- 회원등급
)

---------------------- 제약조건 ---------------------

--------기본키(pk) 제약
alter table user_market
	add constraint pk_user_maket_u_idx primary key(u_idx);

--------유니크 제약--------
--아이디
alter table user_market
	add constraint uq_user_market_u_id unique(u_id);

--닉네임
alter table user_market
	add constraint uq_user_market_u_nickname unique(u_nickname);
	
--이메일
alter table user_market
	add constraint uq_user_market_u_mail unique(u_mail);	


--------check 제약--------
alter table user_market
	add constraint ck_user_market_u_garde 
	check( u_grade in( '일반회원','사업자','관리자' ) )


	
---------------------- 샘플데이터 ----------------------

  /* 시퀀스 쓰지않고, 1씩증가 하는 쿼리문 사용 */
insert into user_market 
values( (select nvl(max(u_idx)+1,1) from user_market),		  
		'hong123',    	 	  --아이디
		'1234',	    		  --비번
		'홍길동',	    	  --이름
		'동에번쩍',   		  --닉네임
		'1994-06-17', 		  --생년월일
		'서울시 관악구 신림동', --주소
		sysdate,			  --가입일자
		5,					  --평점
		'방가방가~',		  --자기소개
		null,				  --사진
		'010-1234-5678',	  --전화번호
		'hongkill@gmail.com', --메일
		'일반회원'			  --회원등급
		);


insert into user_market 
values( (select nvl(max(u_idx)+1,1) from user_market),		  
		'admin',    	 	  --아이디
		'1234',	    		  --비번
		'김관리자',	    	  --이름
		'관리자',   		  --닉네임
		'1994-06-17', 		  --생년월일
		'서울시 관악구 신림동', --주소
		sysdate,			  --가입일자
		5,					  --평점
		'관리자 아이디',	  --자기소개
		null,				  --사진
		'010-1234-5678',	  --전화번호
		'admin123@gmail.com', --메일
		'일반회원'			  --회원등급
		);


---조회용
select * from user_market





*/

